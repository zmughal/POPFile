README for POPFILE Beta 1.4 (POPFile Engine v0.6)


1. Where do I get POPFile?  Is it free?

You can download the latest POPFile from http://www.usethesource.com/popfile.zip.  
To install run SETUP.EXE.

The beta is completely free for you to use (but of course there are some bugs).  
Once it is working nicely it will become a piece of shareware with a price 
tag of $10.

The official home page of POPFile is http://www.extravalent.com/software/popfile.


2. How do I get POPFile support?

Currently POPFile support is by email only from the author John Graham-Cumming 
by sending mail to popfile@jgc.org.  I would *really* like to hear from you 
with questions and problems.  If you help debug problems with POPFile you'll 
get a free shareware license and never have to pay for it.


3. Who wrote POPFile?

John Graham-Cumming: try visiting www.extravalent.com, www.usethesource.com 
and www.jgc.org for more information.


4. What does POPFile do?

It acts as a full POP3 proxy between your email client and email server
intercepting incoming mail sorting it and classifying it. You modify your
mail client to think its POP server is now 127.0.0.1 and modify the username
to be old-server-name:user-name (i.e. if before you did this your POP server
was old-server-name and your username user-name then your new server is
127.0.0.1 and your new username is old-server-name:user-name).

POPFile streams incoming mail through a filter and then into a text
classification engine that classifies the mail into one of any number of
buckets that you define.  Could be a simple as "spam" and "not-spam" or much
more complicated.  If you want to sort family mail, from spam, from work
mail, from a specific mailing list, the just create those four buckets and
fill them with mail.  POPFile does the rest.

You drag and drop mail into buckets using the bucket.exe program to insert
the mail into the appropriate bucket.  

Note that bucket names can consist of alphanumeric characters, - and _.

POPFile also optimizes download speed.  By sorting mail into ascending order 
of size downloads seem much faster on slow connections.  When downloading a 
lot of mail across a slow link POPFile gives you the small mails first and 
fast and delays big mails until the end.

It inserts the X-Text-Classification header into every mail message with a
single argument: the bucket POPFile believes this mail belongs in.  By
adding rules in your mail client of choice you can delete, move or otherwise
modify mail based on this header.

POPFile automatically removes forged X-Text-Classification headers so that
spammers can't use the system against you.


5. How do I use POPFile with Secure Password Authentication/AUTH?

You need to tell POPFile the server name and port number that your email server
is running on when you start the program.  Suppose that the server was 
pop.secureserver.com running on port 123; you would type

	popfile 110 pop.secureserver.com 123
	
to start POPFile listening on port 110 and ready to connect to pop.secureserver.com
on port 123 when it sees a secure authentication.

The modify your mail client to talk to the proxy: the server becomes 127.0.0.1 and the
port 110.

Or set the secure server and secure port commands through the config.exe UI.

6. How do I use POPFile with Outlook Express

Visit www.extravalent.com/software/popfile for a full explanation with graphics.


7. How do I use POPFile with Outlook

	Select Tools->Email Accounts...
	Select View or change email accounts
	Choose the email account you want to modify and click Change...
	Make a note of POP3 server and the user name
	Change the POP3 server to 127.0.0.1
	Change the user name to old-POP3-server-name:user-name
	Click Finish/OK until all the dialogs disappear
	

8. How do I use POPFile with Eudora

Select Tools->Options
Select Checking Mail
Make a note of mail server and login name
Change Mail Server to 127.0.0.1
Change login name to old-mail-server-name:login name
Click OK

This will only affect the ‘<Dominant>’ Eudora user. If you have multiple users 
configured in Eudora, you’ll need to follow a separate process for each additional user:


Select Tools->Personalities
In the panel that opens, right-click the Persona that you want to modify and 
select Properties
Make a note of login name
Select the Incoming Mail tab
Make a note of server
Change server to 127.0.0.1
Select the Generic Properties tab
Change the login name to old-server-name:login name
Click OK


9. Is there a version for <my favorite operating system>?

Currently POPFile only runs on Windows (most flavors), but the code is cross
platform so please feel free to email popfile@jgc.org with suggestions.


10. Please explain the POPFile command line options

The popfile command line is as follows:

popfile <listen-port> <connect-server> <connect-port>

All options are optional and are as follows:

	listen-port		The port to proxy on, by default this is 110		
	connect-server	The remote server to connect to, read question
	connect-port	5 (AUTH) for an explanation of these options
	
The simplest execution of POPFile is 

	popfile
	
which starts the proxy listening on port 110 and handles all POP 
connections execpt those that need secure authentication.


11. Can I use multiple email accounts with POPFile?

If you are *not* using secure authentication then the answer is
yes: point each email configuration at 127.0.0.1:110 and POPFile will
automatically distinguish between the email accounts you are using, although
it will use only one email corpus for classification.

If you have multiple regular accounts (not using secure authentication)
and one that needs to be secure then you can still use POPFile.  Run POPFile
with the command line specified in question 5 and point all your accounts at
127.0.0.1:110.  POPFile will use the appropriate account for the secure
email account, and distinguish the rest automatically.

POPFile cannot currently be used with multiple accounts requiring secure
authentication.


12. How do I insert mail into the different buckets?

	Run bucket.exe.  
	Set up the appropriate buckets using the Create Bucket button
	Drag and drop email messages from your mail program into each bucket

13. How do I configure POPFile?

That's easy:

	Run config.exe
	

14. A complete example

	You decide to create two buckets: spam and not-spam.  
	
	You run bucket.exe and create two bucket: spam and not-spam.
	
	You drag your spam mails into the spam bucket and your good mail
	into the not-spam bucket (if your email client wont let you drag and drop
	then save the emails as text files and drag and drop those files)

	You exit the bucket program.
		
	You run popfile:
		popfile
		
	You change your email client settings to point to popfile running
	on port 110.
	
	You receive mail and take a look at its X-Text-Classification: header
	

15. How do I chain mulitple POP3 proxies together?

You can use the first command line option of popfile to specify the port it listens on
and it automatically picks up the port to connect to from the user name specified in the
client.

Suppose you have another proxy running on the local machine on port 111 and you have 
configured the user name in your client to be real-server-name/real-user-name connecting to 
a server on 127.0.0.1 using port 110.

To use POPFile you would change the user name to 127.0.0.1:110:real-server-name/real-user-name.
This tells POPFile to connect to 127.0.0.1 on port 110 and pass in the user name 
real-server-name/real-user-name that the proxy expects.

Then run POPFile on some port other than 110:
	popfile 111
	
And tell the email client to contact the server on 127.0.0.1 and port 111.


16. What's in the file popfile.log?

popfile.logff is a debugging log output by POPFile when it is in use so that the
beta can be debugged.  You can take a look at popfile.log in any text editor
(for example, Notepad) and so what's in there.  

POPFile does *not* save your user name or password.  If you look for the USER or
PASS commands then you will see that your private information has been replaced by
XXXXXX.

If I ask you to send me popfile.log to debug a problem I will destroy it afterwards.


17. What permissions should I set in ZoneAlarm?

There are currently two programs that need ZoneAlarm permissions: popfile.exe and
rainbow.exe.

popfile.exe is the POP3 proxy and needs to be able to accept connections from clients
on your local machine and needs to be able to make connections outbound to the Internet
so that it can download your mail.

rainbow.exe only needs to be able to accept connections from your local machine.  It 
is connected to popfile.exe through a socket on port 2408.  It does not need to connect
to the Internet and it does not need to accept connections from the Internet.

Here are the appropriate ZoneAlarm settings

					Access		         Server
				Trusted  Internet	Trusted  Internet
				
popfile.exe		   C        C          C        X
rainbow.exe        C        X          C        X

I used C for a check mark and X for an X.


18. What's this "rainbow" window?

Rainbow is the server that is used locally on your machine to do classification of
email messages and this window will disappear in a later beta when it is included in
the POPFile.exe program.  

Currently it displays a window so that it can output debug messages if things go 
wrong!


19. How do I close down POPFile?

It will automatically close when Windows shuts down, or right click the icon in the
system tray.


20. Does POPFile work with antivirus software?

Yes.  If you need to chain two proxies together then read the instructions in question
15.

TODO: Anyone want to write up specific instructions for their favorite av proxy?


21. How do I turn off modification of the Subject: line?

Either edit popfile.cfg and change the line subject 1 to subject 0...
Or run config.exe and check the appropriate box.
